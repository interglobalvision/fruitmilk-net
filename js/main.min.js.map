{"version":3,"sources":["main.js"],"names":["l","data","console","log","fixNavMargin","$","css","navMargin","basicAnimationSpeed","navPercentHeight","window","height","masonryOptions","columnWidth","gutterWidth","itemSelector","Router","init","_this","this","onstatechange","Nav","minimize","href","location","loadContent","loadHref","History","pushState","WP","blogName","loadBlob","label","shopUrl","origin","addClass","animate","opacity","ajax","url","done","content","find","html","removeClass","scrollTop","length","imagesLoaded","masonry","fail","jqXHR","textStatus","errorThrown","on","attr","debounce","type","serialize","dataType","jsonp","contentType","success","result","msg","jQuery","document","ready"],"mappings":"AAGA,QAASA,GAAEC,GACTC,QAAQC,IAAIF,GAkFd,QAASG,gBACPC,EAAE,iBAAiBC,IAAI,cAAeC,UAAY,IA9EpD,GAAIC,qBAAsB,IAEtBC,iBAAmB,IACnBF,UAAYF,EAAEK,QAAQC,SAAWF,iBAEjCG,gBACFC,YAAa,cACbC,YAAa,gBACbC,aAAc,SAMZC,QACFC,KAAM,WACJ,GAAIC,GAAQC,IACZT,QAAOU,cAAgB,WACrBC,IAAIC,UACJ,IAAIC,GAAOb,OAAOc,SAASD,IAC3BL,GAAMO,YAAYF,KAGtBG,SAAU,SAASH,GACjBI,QAAQC,UAAU,KAAMC,GAAGC,SAAUP,IAEvCQ,SAAU,SAASC,GACJ,QAATA,EACFtB,OAAOc,SAAWK,GAAGI,QAErBN,QAAQC,UAAU,KAAMC,GAAGC,SAAUD,GAAGK,OAAS,IAAMF,IAG3DP,YAAa,SAASF,GACpBlB,EAAE,cAAc8B,SAAS,QACzB9B,EAAE,0BAA0B+B,SAASC,QAAW,GAAI7B,qBACpDH,EAAEiC,MACAC,IAAKhB,IAENiB,KAAK,SAASvC,GACb,GAAIwC,GAAUpC,EAAEJ,GAAMyC,KAAK,oBAC3BrC,GAAE,iBAAiBsC,KAAKF,GAExBpC,EAAE,cAAcuC,YAAY,QAC5BvC,EAAE,cAAc+B,SAAUS,UAAW,OAASrC,oBAAoB,GAE9DH,EAAE,qBAAqByC,OACzBzC,EAAE,eAAe0C,aAAc,WAC7B1C,EAAE,eAAe2C,SACfnC,YAAa,cACbC,YAAa,gBACbC,aAAc,UAEhBV,EAAE,0BAA0B+B,SAASC,QAAW,GAAI7B,uBAGtDH,EAAE,0BAA0B+B,SAASC,QAAW,GAAI7B,uBAGvDyC,KAAK,SAASC,EAAOC,EAAYC,GAEhCpD,EAAEoD,MAQR/C,GAAE,QAAQgD,GAAG,QAAS,gBAAiB,WAErC,MADArC,QAAOU,SAASrB,EAAEc,MAAMmC,KAAK,UACtB,IAUTjD,EAAEK,QAAQ2C,GAAI,SAAUE,SAAU,WAChClD,EAAE,QAAQM,OAAQN,EAAEK,QAAQC,UAC5BJ,UAAYF,EAAEK,QAAQC,SAAWF,iBACjCL,gBACC,KAIHC,EAAE,QAAQgD,GAAG,SAAU,aAAc,WAmBnC,MAlBAhD,GAAE,qBAAqBsC,KAAK,cAC5BtC,EAAEiC,MACAC,IAAK,wGACLiB,KAAM,MACNvD,KAAMI,EAAE,cAAcoD,YACtBC,SAAU,QACVC,MAAO,IACPC,YAAa,kCACbC,QAAS,SAAU5D,GACG,YAAhBA,EAAK6D,QAEP5D,QAAQC,IAAIF,EAAK8D,KACjB1D,EAAE,qBAAqBsC,KAAK,8CAE5BtC,EAAE,qBAAqBsC,KAAK,2BAI3B,IAMTqB,OAAOC,UAAUC,MAAM,WACrB,YAIAlD,QAAOC,OAIPb,eACAC,EAAE,QAAQM,OAAQN,EAAEK,QAAQC,UAI5BN,EAAE,eAAe0C,aAAc,WAC7B1C,EAAE,eAAe2C,QAAQpC","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr, Nav, History, WP, debounce */\n\nfunction l(data) {\n  console.log(data);\n}\n\n// VARS\n\nvar basicAnimationSpeed = 800;\n\nvar navPercentHeight = 0.15;\nvar navMargin = $(window).height() * navPercentHeight;\n\nvar masonryOptions = {\n  columnWidth: '.grid-sizer',\n  gutterWidth: '.gutter-sizer',\n  itemSelector: '.item'\n};\n\n\n// ROUTER\n\nvar Router = {\n  init: function() {\n    var _this = this;\n    window.onstatechange = function() {\n      Nav.minimize();\n      var href = window.location.href;\n      _this.loadContent(href);\n    };\n  },\n  loadHref: function(href) {\n    History.pushState(null, WP.blogName, href);\n  },\n  loadBlob: function(label) {\n    if (label == 'shop'){\n      window.location = WP.shopUrl;\n    } else {\n      History.pushState(null, WP.blogName, WP.origin + '/' + label);\n    }\n  },\n  loadContent: function(href) {\n    $('#preloader').addClass('show');\n    $('#main-content, #footer').animate({'opacity': 0}, basicAnimationSpeed);\n    $.ajax({\n      url: href\n    })\n    .done(function(data, textStatus, jqXHR) {\n      var content = $(data).find('#main-content > *');\n      $('#main-content').html(content);\n\n      $('#preloader').removeClass('show');\n      $('html, body').animate({ scrollTop: '0px' }, basicAnimationSpeed/2);\n\n      if ($('.js-masonry .item').length) {\n        $('.js-masonry').imagesLoaded( function() {\n          $('.js-masonry').masonry({\n            columnWidth: '.grid-sizer',\n            gutterWidth: '.gutter-sizer',\n            itemSelector: '.item'\n          });\n          $('#main-content, #footer').animate({'opacity': 1}, basicAnimationSpeed);\n        });\n      } else {\n        $('#main-content, #footer').animate({'opacity': 1}, basicAnimationSpeed);\n      }\n    })\n    .fail(function(jqXHR, textStatus, errorThrown) {\n      // ERROR HANDLING HERE\n      l(errorThrown);\n    });\n  },\n};\n\n\n// AJAX LINK LOAD\n\n$('body').on('click', '.js-ajax-link', function() {\n  Router.loadHref($(this).attr('href'));\n  return false;\n});\n\n\n// LAYOUT\n\nfunction fixNavMargin() {\n  $('#main-content').css('padding-top', navMargin + 30);\n}\n\n$(window).on( 'resize', debounce( function() {\n  $('#nav').height( $(window).height() );\n  navMargin = $(window).height() * navPercentHeight;\n  fixNavMargin();\n}, 20));\n\n// MAILCHIMP\n\n$('body').on('submit', '#subscribe', function() {\n  $('#subscribe-result').html('Sending...');\n  $.ajax({\n    url: '//fruitmilk.us8.list-manage.com/subscribe/post-json?u=b0b0183cd0a1db371072e3363&amp;id=5c344ff57c&c=?',\n    type: 'GET',\n    data: $('#subscribe').serialize(),\n    dataType: 'jsonp',\n    jsonp: 'c',\n    contentType: 'application/json; charset=utf-8',\n    success: function (data) {\n      if (data.result !== 'success') {\n        //ERROR\n        console.log(data.msg);\n        $('#subscribe-result').html('Sorry! Something went wrong... Try again?');\n      } else {\n        $('#subscribe-result').html('Yesssssss! U did it');\n      }\n    }\n  });\n  return false;\n});\n\n\n// DOC READY\n\njQuery(document).ready(function () {\n  'use strict';\n\n  // ROUTER\n\n  Router.init();\n\n  // LAYOUT\n\n  fixNavMargin();\n  $('#nav').height( $(window).height() );\n\n    // MASONRY\n\n  $('.js-masonry').imagesLoaded( function() {\n    $('.js-masonry').masonry(masonryOptions);\n  });\n\n});\n"],"sourceRoot":"/source/"}